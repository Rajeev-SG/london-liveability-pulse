project:
  name: "London Liveability Pulse"
  timezone: "Europe/London"
  historyRetentionDays: 7
  collectionIntervalMinutes: 15

location:
  name: "Central London"
  lat: 51.5074
  lon: -0.1278

sources:
  tfl:
    enabled: true
    baseUrl: "https://api.tfl.gov.uk"
    appIdEnv: "TFL_APP_ID"
    appKeyEnv: "TFL_APP_KEY"
    # Status collection uses all returned lines for these modes (unless watchLines is set).
    # "elizabeth-line" is the current mode name (replaces legacy "tflrail").
    modes: ["tube", "overground", "dlr", "elizabeth-line", "tram"]
    watchLines: [] # empty => use all lines returned for these modes
    stopPoints:
      - id: "940GZZLUKSX"
        label: "King's Cross St Pancras"
      - id: "940GZZLUEUS"
        label: "Euston"
      - id: "940GZZLUWLO"
        label: "Waterloo Underground"
      - id: "940GZZLUVIC"
        label: "Victoria Underground"
      - id: "940GZZLUBNK"
        label: "Bank Underground"
      - id: "940GZZLULNB"
        label: "London Bridge Underground"
      - id: "940GZZLUPAC"
        label: "Paddington Underground"
      - id: "940GZZLUCYF"
        label: "Canary Wharf Underground"
      - id: "940GZZLUSTD"
        label: "Stratford Underground"
      - id: "940GZZDLSTD"
        label: "Stratford DLR"
      - id: "910GSTFD"
        label: "Stratford Elizabeth / Rail"

  openMeteo:
    enabled: true
    baseUrl: "https://api.open-meteo.com"
    forecastHours: 48
    hourlyVariables:
      - "temperature_2m"
      - "precipitation_probability"
      - "wind_speed_10m"

  ergAirQuality:
    enabled: true
    baseUrl: "https://api.erg.ic.ac.uk"
    groupName: "London"

  fhrs:
    enabled: false
    baseUrl: "https://api.ratings.food.gov.uk"
    apiVersionHeader: 2
    localAuthorityIds: []

scoring:
  weights:
    transit: 1.0
    wait: 1.0
    weather: 0.8
    air: 1.0

  fallbacks:
    transitPenalty: 15
    waitPenalty: 15
    weatherPenalty: 10
    airPenalty: 10

  transitSeverityPoints:
    goodService: 0
    minorDelays: 10
    severeDelays: 25
    partSuspended: 35
    suspended: 50
    unknown: 15

  waitPenaltyBands:
    - { maxMinutes: 3, penalty: 0 }
    - { maxMinutes: 7, penalty: 10 }
    - { maxMinutes: 12, penalty: 20 }
    - { maxMinutes: 999, penalty: 35 }

  weatherPenalty:
    rainBands:
      - { maxProb: 20, penalty: 0 }
      - { maxProb: 50, penalty: 10 }
      - { maxProb: 80, penalty: 20 }
      - { maxProb: 100, penalty: 30 }
    tempComfort:
      idealMin: 16
      idealMax: 22
      shoulderMin: 10
      shoulderMax: 27
      shoulderPenalty: 8
      extremePenalty: 16
    windBands:
      - { maxSpeed: 20, penalty: 0 }
      - { maxSpeed: 35, penalty: 5 }
      - { maxSpeed: 999, penalty: 10 }

  airPenalty:
    - { maxIndex: 3, penalty: 0, band: "Low" }
    - { maxIndex: 6, penalty: 10, band: "Moderate" }
    - { maxIndex: 9, penalty: 25, band: "High" }
    - { maxIndex: 10, penalty: 35, band: "Very High" }
